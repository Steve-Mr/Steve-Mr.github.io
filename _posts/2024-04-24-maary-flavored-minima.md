---
layout: post
title:  "è¯¥é­”æ”¹è¿™é‡Œä¸»é¢˜äº†"
date:   2024-04-24  09:00:00 +0800
modified_date:   2024-11-16 10:00:00 +0800
toc: true
categories: jekyll 
excerpt_separator: <!--more-->
tags:
  - Jekyll
  - Minima
---

ä½†å…¶å®ä¹Ÿæ²¡æ•´å¤šå¤§æ”¹åŠ¨ï¼Œå¹¶ä¸”æ‡’å¾—é…å›¾äº†ã€‚

<!--more-->

## ä¸ºä»€ä¹ˆ Minima

å¦‚ä½ æ‰€è§ï¼Œæˆ‘ç°åœ¨åœ¨ç”¨ Github Pages å½“ä½œè‡ªå·±çš„ Blog æ¥ç”¨ã€‚åŸå› ä¸éš¾ç†è§£ï¼šå…è´¹ã€çœäº‹ã€è¿˜æœ‰ç‰ˆæœ¬æ§åˆ¶ã€‚Pages ä½¿ç”¨ Jekyll ä½œä¸ºé™æ€ç½‘ç«™çš„ç”Ÿæˆå™¨ï¼Œèƒ½ç›´æ¥ä»¥ Markdown ç”Ÿæˆ Htmlã€‚  

ä½¿ç”¨ Jekyll æ„å»º Github Pages çš„é»˜è®¤ä¸»é¢˜å°±æ˜¯ [minima](https://github.com/jekyll/minima)ï¼Œçªå‡ºä¸€ä¸ªç®€æ´åˆ°ç”šè‡³æœ‰ç‚¹ç®€é™‹ï¼Œä½†æˆ‘è¿˜æ˜¯æŒºå–œæ¬¢çš„ã€‚ä¸è¿‡å› ä¸ºå†³å®šçœŸçš„æŠŠè¿™é‡Œå½“ä¸ªæ­£ç»åœ°æ–¹ç»§ç»­å†™ä¸‹å»ï¼Œè¿™ä¸ªä¸»é¢˜ç¨å¾®æœ‰ç‚¹ä¸å¤ªå¤Ÿçœ‹äº†ã€‚

### é—®é¢˜

1. å¯¹ä¸­æ–‡çš„æ”¯æŒä¸å¥½ã€‚
2. ç¼ºå°‘æš—è‰²æ¨¡å¼ã€‚
3. æ²¡æœ‰ç« èŠ‚ç›®å½•ã€‚

## æ”¹åŠ¨å’Œå‘

å…¶å®é¦–å…ˆæˆ‘è¿˜æ˜¯æƒ³æ‰¾æ‰¾æœ‰æ²¡æœ‰åˆé€‚çš„ä¸»é¢˜ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†éƒ½æœ‰ç‚¹å¤ªèŠ±é‡Œèƒ¡å“¨äº†ï¼Œå½“ç„¶è¿™æ˜¯æˆ‘çš„é—®é¢˜ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢æ¯”è¾ƒç®€å•ä¸€ç‚¹å°±è¡Œäº†ã€‚ä½†ä¸æ˜¯æ²¡æœ‰æ”¶è·ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¾ˆä¸é”™çš„[ä¸»é¢˜](https://github.com/gledos/jekyll-minimal-theme-zh-cmn-hans)ï¼Œä½†æ˜¯æ²¡æœ‰æš—è‰²æ¨¡å¼ï¼Œè€Œæˆ‘æ‡’å¾—å»æ•´é¢œè‰²äº†ä½œç½¢ã€‚

### minima 3

é‚£ä¹ˆç°åœ¨çš„ç›®æ ‡è¿˜æ˜¯å®šåˆ°äº†é­”æ”¹ minima ä¸Šï¼Œäºæ˜¯ç¬¬ä¸€ä¸ªå‘æ¥äº†ã€‚ä½ è¯´çš„ minima æ˜¯å“ªä¸ª minimaï¼Ÿ  

ç°åœ¨å®˜æ–¹ä»“åº“ä¸­çš„ minima æ˜¯ minima 3ï¼Œå’Œä¹‹å‰çš„ç»“æ„æœ‰ä¸€å®šçš„å·®åˆ«ï¼ŒåŒæ—¶æ”¯æŒäº†è‡ªé€‚åº”çš„ä¸»é¢˜ã€‚ä½†æ˜¯äº‹å®ä¸Š Github Pages ä½¿ç”¨çš„é»˜è®¤ä¸»é¢˜æ˜¯ minima 2.5ï¼Œäºæ˜¯æˆ‘æŠ˜è…¾åŠå¤©å‘ç°ç™½æ­ï¼Œéœ€è¦åœ¨ Gemfile ä¸­æŒ‡å®š `gem "minima", :github => 'jekyll/minima'` æ‰è¡Œã€‚ä¸è¿‡æ‘†å¼„äº†ä¸€ä¼šæ„Ÿè§‰è‡ªå·±åœ¨ä»“åº“é‡Œè‡ªå®šä¹‰æœ‰ç‚¹éš¾å—ï¼Œå¹²è„† [fork äº†ä¸€ä»½ minima](https://github.com/Steve-Mr/minima) è‡ªå·±æ¥æ”¹ã€‚

#### è‡ªé€‚åº”ä¸»é¢˜

è¿™éƒ¨åˆ†èµ·å§‹åœ¨é¡¹ç›®çš„ `_config.yml` ä¸­è®¾ç½® minima: skin: auto å°±å¥½äº†ï¼Œä¹Ÿæœ‰ solarized ç‰ˆæœ¬ä½†æ˜¯æˆ‘ä¸€ç›´å¯¹äºé‚£ä¸ªé…è‰²ä¸æ˜¯å¾ˆæ„Ÿå†’ã€‚  

| ![](/asset/minima/auto.png){:width=500} |
| :-------------------------------------: |
|            *äº®è‰²å’Œæš—è‰²æ•ˆæœ*             |

#### æ‘˜è¦

è¿™éƒ¨åˆ†å…¶å®ä¹Ÿåªéœ€è¦åœ¨ `_config.yml` ä¸­å£°æ˜ `show_excerpts: true` å°±å¥½äº†ã€‚  

å½“ç„¶ä¸ºäº†æ›´ç²¾ç¡®çš„æ§åˆ¶å¯ä»¥åœ¨ md æ–‡ä»¶å¤´ä¸­è®¾ç½® `excerpt_separator: <!--more-->`ï¼Œåœ¨æ–‡ç« ä¸­æ’å…¥ `<!--more-->` çš„ä½ç½®ä¹‹å‰çš„å†…å®¹å°±æ˜¯æ‘˜è¦å†…å®¹äº†ã€‚


#### å­—ä½“

å­—ä½“ä¸Šå…¶å®ç°åœ¨ä¹Ÿæ²¡æœ‰æå¥½ï¼Œä»¥åŠåšäº†ä¸€äº›å¯èƒ½æœ‰ç‚¹å¥‡æ€ªçš„å†³å®šã€‚  

å°±æ˜¯æˆ‘ç°åœ¨çªç„¶æ„Ÿè§‰è¡¬çº¿ä¹ŸæŒºå¥½å¹¶ä¸”è®¾ç½®æˆäº†æ­£æ–‡å­—ä½“ï¼Œæ­£æ–‡ä½¿ç”¨äº† Noto Serif æ ‡é¢˜ä½¿ç”¨ Noto Sansã€‚  

ä¸»è¦çš„é—®é¢˜å°±æ˜¯æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆ jekyll ç”Ÿæˆçš„ html ä¸­ä¼šæŠŠè‹±æ–‡çš„æ’‡å·å˜æˆä¸­æ–‡çš„æ’‡å·ç„¶åå°±çˆ†ç‚¸äº†ï¼Œä¸è¿‡æˆ‘å¯èƒ½ç”¨ä¸ä¸Šï¼Ÿå…ˆè¿™ä¹ˆæ”¾ç€äº†ã€‚

#### ç« èŠ‚ç›®å½•

è¿™éƒ¨åˆ†æ˜¯æœ‰ç‚¹éº»çƒ¦çš„ï¼Œä½†æ˜¯åœ¨åé¢æ‰éº»çƒ¦ã€‚  

è¿™é‡Œä½¿ç”¨äº† [jekyll-toc](https://github.com/toshimaru/jekyll-toc) æ’ä»¶ï¼Œä½¿ç”¨æ–¹æ³•è§ Readme è¯´çš„å·²ç»æ¯”è¾ƒæ¸…æ¥šäº†ï¼šåœ¨ Gemfile ä¸­æ·»åŠ  `gem 'jellky-toc'` ç„¶å `bundle install`ï¼›æ¥ä¸‹æ¥åœ¨ `_config.yml` ä¸­çš„ `plugins:` æ·»åŠ  `- jekyll-toc`ï¼›æœ€ååœ¨ md æ–‡ä»¶å¤´æ·»åŠ  `toc:true`ã€‚  

ä½†è¿™æ˜¯åªæ˜¯ 1/3 çš„å·¥ä½œï¼Œè¿˜éœ€è¦åœ¨é¡µé¢ä¸­å®šä¹‰ toc çš„å¸ƒå±€ï¼Œhtml éƒ¨åˆ†æ¯”è¾ƒç®€å•æ”¾åœ¨é‚£é‡Œå°±è¡Œäº†ã€‚

{% raw %}
```html
<div class="toc">
  {{ content | toc_only }}
</div>
```
{% endraw %}

ç„¶åå®šä¹‰ toc çš„ä½ç½®ï¼Œæˆ‘ä¹ æƒ¯è®©å®ƒåœ¨å·¦è¾¹ã€‚

```css
#toc {
  position: fixed;
  left: 20px; /* è°ƒæ•´å·¦è¾¹è· */
  top: 50px; /* è°ƒæ•´ä¸Šè¾¹è· */
  max-width: 300px; /* è®¾ç½®æœ€å¤§å®½åº¦ */
  max-height: calc(100vh - 100px); /* è°ƒæ•´æœ€å¤§é«˜åº¦ */
  overflow-y: auto; /* æ·»åŠ æ»šåŠ¨æ¡ */
  white-space: normal; /* è‡ªåŠ¨æ¢è¡Œ */
}

/* å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹æ ·å¼ */
#toc ul {
  list-style-type: none;
  padding: 0;
}

#toc ul ul {
  margin-left: 20px;
}

#toc a {
  text-decoration: none;
}

#toc a:hover {
  text-decoration: underline;
}
```

æ¥ä¸‹æ¥è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šæ‰‹æœºä¸Šæ€ä¹ˆåŠï¼Ÿäºæ˜¯éœ€è¦æ ¹æ®å®½åº¦éšè— tocã€‚

```css
@media screen and (max-width: $on-palm), (max-width: 800px) {
  .toc {
    display: none;
  }
}
```

å¥½åˆ°è¿™é‡Œ toc çš„ 2/3 çš„å·¥ä½œåšå®Œäº†ã€‚

### æœ¬åœ°å®Œå…¨ OK äº†å°± OK äº†â€¦â€¦å§ï¼Ÿ

ç„¶åæƒ¯ä¾‹åœ¨æœ¬åœ°è·‘ä¸€ä¸‹ï¼Œçœ‹ç€èƒ½è§£å†³çš„é—®é¢˜éƒ½è§£å†³äº†ï¼Œè¿™ä¸‹åªè¦æ¨é€å°±å¥½äº†å§ã€‚  

ä½†å¯æƒœä¸æ˜¯ï¼Œç™»ä¸Šå»ä¸€çœ‹ï¼šä¸å¯¹ï¼Œæ€ä¹ˆæ²¡æ­£ç¡®ç”Ÿæˆ tocï¼Ÿç„¶åä¸€æœå‘ç°æ²¡æœ‰é»˜è®¤ toc æ”¯æŒçš„åŸå› äº†ï¼š  

> GitHub Pages cannot build sites using unsupported plugins. If you want to use unsupported plugins, generate your site locally and then push your site's static files to GitHub.  

å¥½å˜›ï¼Œjekyll-toc æ²¡åœ¨æ”¯æŒèŒƒå›´å†…ã€‚è§£å†³æ–¹æ³•å€’ä¹Ÿç®€å•ï¼Œåœ¨ä»“åº“è®¾ç½®é‡ŒæŠŠ Pages çš„ç¼–è¯‘å·¥å…·æ¢æˆ Github Actions å°±å¥½äº†ï¼Œjekyll ä¹Ÿæä¾›äº†[æ•™ç¨‹](https://jekyllrb.com/docs/continuous-integration/github-actions/)ã€‚  

åˆ°è¿™é‡Œç®—æ˜¯å·®ä¸å¤šç»ˆäºæŠŠ toc æå®Œäº†ï¼Œé‚£ä¹ˆè¿™æ¬¡ä¸»é¢˜çš„æŠ˜è…¾ä¹Ÿå°±å·®ä¸å¤šè¿™æ ·äº†ã€‚

---
## 2024-04-25 æ›´æ–°  

- ä½¿ç”¨ [giscus](https://github.com/giscus/giscus) å¢åŠ äº†è¯„è®ºç³»ç»Ÿï¼Œè¿™ä¸ªä¸œè¥¿å¥½å¤„åœ¨äºå®ƒæŠŠ Github ä»“åº“çš„ Discussion åŠŸèƒ½æ˜ å°„åˆ°äº† Pages çš„è¯„è®ºåŒºã€‚è™½è¯´å…¶å®æ²¡å•¥ç”¨å°±æ˜¯äº†ã€‚  
- ä¸ºäº†ä¸Šé¢è¿™ç‚¹ï¼Œå¢åŠ äº† `_include/custom-post.html` ç”¨æ¥å¢åŠ è‡ªå®šä¹‰çš„è¯„è®ºåŒºã€‚
- æŠŠ RSS è®¢é˜…çš„æ ·å¼å’Œ Social links çš„æ ·å¼ç»Ÿä¸€äº†ã€‚  
- æ‰¾ Gemini è¦äº† faviconï¼Œæ•ˆæœè¿˜å¯ä»¥å¹¶ä¸”ç”¨ä¸Šäº†ã€‚  

  | ![](/asset/minima/fav_icons.png) |
  | :-------------------------------------: |
  |            *Gemini çš„ç»“æœä¸­æˆ‘æ¯”è¾ƒå–œæ¬¢çš„ä¸‰ä¸ª*             |

- å¢åŠ äº†ä¸»é¡µçš„åˆ†é¡µï¼ŒArchive çš„æ‡’å¾—æäº†ã€‚

## 2024-04-29 æ›´æ–°
- è¯•å›¾è½¬ç§»åˆ°ä½¿ç”¨ä»“åº“æœ¬åœ°å­—ä½“ï¼Ÿä½†æ˜¯ä¸ç¡®å®šä¼šä¸ä¼šæˆåŠŸæˆ–è€…æ•ˆæœå˜å¥½ã€‚

---
## 2024-11-10 æ›´æ–°
æœ€è¿‘åˆæŠ˜è…¾äº†ç‚¹ä¸œè¥¿ï¼Œéšä¾¿è¡¥å……ä¸€ä¸‹ï¼š

- Sitemap, robots.txt, seo å’Œ Copyright

> æ‰€ä»¥ Google ä½ ä¸ºä»€ä¹ˆä¸ç´¢å¼•ï¼

ç®€å•æ¥è¯´ä»¥ä¸Šä¸œè¥¿éƒ½æ˜¯ä¸ºäº†è®© Google èƒ½æƒ³èµ·æ¥ç´¢å¼•ä¸€ä¸‹æˆ‘è¿™ä¸ªç«™ã€‚ä½†æ˜¯é—æ†¾çš„æ˜¯è‡³ä»Šåªæœ‰ https://maary.top è¢«ç´¢å¼•äº†ã€‚  

  - Sitemap: æœ¬æ¥æ˜¯ç”¨ `jekyll-sitemap` æ¥å®ç°çš„ï¼Œä½†æ˜¯åé¢ä¸ºäº†æ›´ä¸°å¯Œçš„å†…å®¹ï¼Œæ¢äº†ä¸€ä¸ª[å®ç°](https://github.com/Steve-Mr/Steve-Mr.github.io/blob/main/sitemap.xml)ã€‚
  - robots.txt: è¿™ä¸ªæ›´ç®€å•äº†ï¼Œæˆ‘å·²ç»å®Œå…¨æ˜¯ Google ä½ ä»–å¦ˆå¿«ç‚¹æ¥æŠ“å–çš„çŠ¶æ€äº†æ‰€ä»¥å•¥éƒ½æ²¡é™åˆ¶ã€‚
  ```liquid
  ---
  layout: none
  ---
  User-agent: *
  Allow: /
  Sitemap: {{ "{{" }} site.url }}/sitemap.xml
  ```

  - seo: è¿™ä¸ªåŒæ ·ç”¨äº†æœ€çœäº‹çš„ jekyll-seo-tag æ’ä»¶ã€‚
  - Copyright: åœ¨ `footer.html` ä¸­å¢åŠ äº†ä¸€è¡Œ `<p>{{ "{{" }} site.author.copyright-year | escape }}-{{ "{{" }} site.time | date: '%Y' }} &#169; {{ "{{" }} site.author.name | escape }} </p>`

- åœ°å€

  è¿™ä¸ªä¸»è¦æ˜¯åŸæ¥çš„åœ°å€è¿‡äºç¹æ‚ï¼ŒåŸºæœ¬ä¸Šæ˜¯ /åˆ†ç±»/å¹´/æœˆ/æ—¥ çš„çŠ¶å†µï¼Œäºæ˜¯åœ¨ `_config.yml` ä¸­è®¾ç½®äº† `permalink:/blog/:year/:title:ouput_ext`ï¼Œç°åœ¨çš„æ•ˆæœç›´æ¥çœ‹åœ°å€æ å°±å¥½äº†ã€‚

- Tags
  Jekyll å’Œ liquid è¯­æ³•æœ¬èº«å°±æ”¯æŒ Tagsï¼Œè¿™é‡Œä¸»è¦çš„ä»»åŠ¡æ˜¯å±•ç¤º Tags ä»¥åŠæŒ‰ç…§ Tags ç´¢å¼•ã€‚  
  - å±•ç¤ºï¼šåœ¨æ–‡ç« ä¸­è¦æ˜¾ç¤ºæœ¬ç¯‡æ–‡ç« çš„ Tagsï¼Œåœ¨ Archive ä¸­è¦æ˜¾ç¤ºå½“å‰æ‰€æœ‰çš„ Tagsã€‚  
    å¯¹äºåœ¨æ–‡ç« ä¸­çš„ Tags ä½¿ç”¨ä¸€ä¸ªéå†å³å¯ï¼š  
    ```liquid
    <br>
    {{ "{%- if page.tags" }} -%}
        {{ "{% for tag in page.tags" }} %}
            <a href="{{ "{{" }} site.baseurl}}/archive.html#{{ "{{" }}tag | slugize}}">
                #{{  "{{" }} tag }}
            </a>
        {{ "{% endfor " }}%}
    {{ "{%- endif" }}-%}
    ```  
    
    åœ¨ Archive ä¸­çš„ Tags ä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œï¼š  

    ```html
    <div id="tags">
    {{ "{% assign sorted_tags = site.tags | sort"}} %}
          <p>
          {{ "{% for tag in sorted_tags" }} %}
              <a class="post-tag" href="{{ "{{ site.baseurl "}}"}}/tag/{{ "{{ tag[0] | slugify"}} }}">{{ "{{ tag[0]"}} }}</a>
          {{ "{% endfor" }} %}
          </p>
    </div>
    ```  
    
    æ¥ä¸‹æ¥è¿˜éœ€è¦å®šä¹‰ Tags çš„æ ·å¼ï¼š
    ```sass
    .post-tag {
      display: inline-block;
      background: $code-background-color;
      padding: 0 .5rem;
      margin-right: .5rem;
      margin-bottom: .5rem;
      border-radius: 4px;
      color: $text-color;
      font-size: 90%;
      &:before {
        content: "#";
      }
      &:hover {
        text-decoration: none;
        background: $brand-color;
        color: $background-color;
      }
    }
    ```
          
  - æŒ‰ Tags ç´¢å¼•ï¼šè¿™é‡Œç›´æ¥ä½¿ç”¨äº† `jekyll-tagging` æ’ä»¶æ¥å®ç°åŸºäº tag çš„ç´¢å¼•é¡µé¢çš„ç”Ÿæˆï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•å‚åŠ é¡¹ç›® Readmeã€‚  
  Tag ç´¢å¼•é¡µçš„å¸ƒå±€å…¶å®å°±æ˜¯æŒ‰ Tag ç­›é€‰è¿‡çš„ Archive é¡µã€‚

- æŠ˜è…¾ post å¸ƒå±€
  æŠ˜è…¾è¿™ä¸œè¥¿è´¹äº†ä¸å°‘åŠ²ï¼Œè€Œä¸”æœ‰äº› dirtyã€‚ä¸»è¦ç›®çš„æ˜¯å®ç°åœ¨é¡µé¢ä¸å®½ä¸çª„çš„æ—¶å€™é¡µé¢çš„ç›®å½•ä¸ä¼šå’Œå†…å®¹å†²çªï¼Œé¡ºä¾¿ä¸€ä¸ªé¡ºå¸¦çš„æ•ˆæœæ˜¯åœ¨æ‰‹æœºæ’ç‰ˆä¸‹ä¹Ÿæœ‰ç›®å½•äº†ã€‚
  1. é¦–å…ˆæ˜¯ç»™ post.html çš„æ¨¡æ¿å»æ‰äº† wrapperï¼Œé¿å…é¡µé¢å†…å®¹è¢«å¼ºåˆ¶å±…ä¸­ï¼Œå¯¹äºåƒæ ‡é¢˜ã€è¯„è®ºçš„ä¸œè¥¿ï¼Œå¯ä»¥åœ¨å¯¹åº”å…ƒç´ å¤–é¢å¥—ä¸Š wrapper æ ¼å¼ã€‚
  2. å®šä¹‰äº† `post-wrapper` çš„æ ·å¼ç”¨æ¥æ˜¾ç¤º toc å’Œ æ–‡ç« å†…å®¹ï¼Œå¤§è‡´æ€è·¯æ˜¯ä½¿ç”¨ flexbox å¸ƒå±€æ¥å±•ç¤ºè¿™ä¸¤ä¸ªéƒ¨åˆ†ã€‚
  ```sass
  .post-wrapper {
    display: flex; /* ä½¿ç”¨ Flexbox å¸ƒå±€ */
    gap: 20px; /* è®¾ç½®å­å…ƒç´ ä¹‹é—´çš„é—´è· */
    $first-calculation: calc((100vw - #{$content-width} + #{$spacing-unit}) / 2);
    $second-calculation: calc($first-calculation - 300px);
    margin-right: $first-calculation;
    margin-left: $second-calculation;
    @media screen and (min-width: $on-large) {
      $first-calculation: calc((100vw - #{$content-width} + #{$spacing-unit * 2}) / 2);
      $second-calculation: calc($first-calculation - 300px);
      margin-right: $first-calculation;
      margin-left: $second-calculation;
    }
    @media screen and (max-width: $on-large) {
      flex-direction: column; /* å½“å±å¹•å®½åº¦è¾ƒå°æ—¶ï¼Œå˜ä¸ºå‚ç›´å¸ƒå±€ */
    }
  }
  ```
  è¿™é‡Œä¹Ÿå°±æ˜¯ dirty çš„éƒ¨åˆ†äº†ï¼Œä¸€äº›å®½åº¦çš„è®¡ç®—ç”¨äº†ç¡¬ç¼–ç çš„å€¼ï¼Œç›®å‰ä¼¼ä¹æ²¡å•¥é—®é¢˜ä½†æ˜¯æ¯•ç«Ÿæµ‹è¯•çš„å¹³å°ä¸å¤Ÿå¤šï¼Œè°çŸ¥é“ä¼šå‡ºæ¥ä»€ä¹ˆé—®é¢˜å‘¢ğŸ¤·â€â™‚ï¸